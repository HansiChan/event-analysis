2018-12-07 14:00:10.808 [main] INFO  c.d.e.EventAnalysisApplication - Starting EventAnalysisApplication on ChenLingu with PID 21384 (D:\event-analysis\target\classes started by chenlg in D:\event-analysis)
2018-12-07 14:00:10.813 [main] INFO  c.d.e.EventAnalysisApplication - No active profile set, falling back to default profiles: default
2018-12-07 14:00:10.892 [main] INFO  o.s.b.c.e.AnnotationConfigEmbeddedWebApplicationContext - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5339bbad: startup date [Fri Dec 07 14:00:10 CST 2018]; root of context hierarchy
2018-12-07 14:00:12.314 [main] INFO  o.s.b.c.e.t.TomcatEmbeddedServletContainer - Tomcat initialized with port(s): 8201 (http)
2018-12-07 14:00:12.325 [main] INFO  o.a.catalina.core.StandardService - Starting service Tomcat
2018-12-07 14:00:12.327 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.11
2018-12-07 14:00:12.541 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2018-12-07 14:00:12.541 [localhost-startStop-1] INFO  o.s.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 1649 ms
2018-12-07 14:00:12.714 [localhost-startStop-1] INFO  o.s.b.w.s.ServletRegistrationBean - Mapping servlet: 'dispatcherServlet' to [/]
2018-12-07 14:00:12.720 [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-12-07 14:00:12.720 [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-12-07 14:00:12.720 [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-12-07 14:00:12.721 [localhost-startStop-1] INFO  o.s.b.w.s.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2018-12-07 14:00:13.111 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5339bbad: startup date [Fri Dec 07 14:00:10 CST 2018]; root of context hierarchy
2018-12-07 14:00:13.191 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/event/query]}" onto public com.dachen.util.JSONMessage com.dachen.eventanalysis.conctroller.EventAnalysisController.query(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String) throws java.lang.Exception
2018-12-07 14:00:13.192 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/event/filter]}" onto public com.dachen.util.JSONMessage com.dachen.eventanalysis.conctroller.EventAnalysisController.filter(java.lang.String) throws java.lang.Exception
2018-12-07 14:00:13.192 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/event/selector]}" onto public com.dachen.util.JSONMessage com.dachen.eventanalysis.conctroller.EventAnalysisController.events() throws java.lang.Exception
2018-12-07 14:00:13.193 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/event/dimensions]}" onto public com.dachen.util.JSONMessage com.dachen.eventanalysis.conctroller.EventAnalysisController.dimension()
2018-12-07 14:00:13.193 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/event/download]}" onto public void com.dachen.eventanalysis.conctroller.EventAnalysisController.DownloadExcel(java.lang.String,java.lang.String,javax.servlet.http.HttpServletResponse)
2018-12-07 14:00:13.196 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-12-07 14:00:13.196 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-12-07 14:00:13.236 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-07 14:00:13.236 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-07 14:00:13.295 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-12-07 14:00:13.581 [main] INFO  o.s.j.e.a.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2018-12-07 14:00:13.667 [main] INFO  o.s.b.c.e.t.TomcatEmbeddedServletContainer - Tomcat started on port(s): 8201 (http)
2018-12-07 14:00:13.672 [main] INFO  c.d.e.EventAnalysisApplication - Started EventAnalysisApplication in 3.333 seconds (JVM running for 8.209)
2018-12-07 14:00:21.964 [http-nio-8201-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-12-07 14:00:21.965 [http-nio-8201-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization started
2018-12-07 14:00:21.986 [http-nio-8201-exec-1] INFO  o.s.web.servlet.DispatcherServlet - FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms
2018-12-07 14:00:23.013 [http-nio-8201-exec-1] INFO  c.d.e.d.EventAnalysisProvider - select a.dt,a.name,a.value/b.value as value from (select days as dt,if(model is null,"未知",model) as name,count(distinct(userid)) as value from dw.dw_full_point as t where t.module = '激活app' and days >='2018-11-06' and days <='2018-12-06'  group by dt,name order by value desc) as a join (select days as dt,if(model is null,"未知",model) as name,count(distinct(userid)) as value from dw.dw_user_login where days >='2018-11-06' and days <='2018-12-06'  group by dt,name order by value desc) as b on a.dt=b.dt and a.name=b.name group by dt,name,a.value,b.value order by value desc
